<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pautangina Product Loan</title>
  <link rel="stylesheet" href="style3.css">

  <style>
    /* Ensure the rest of the layout works well */
    body {
      position: relative;
    }
  </style>
</head>
<body>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <img src="https://assets.softr-files.com/applications/5161fb19-ec3f-4962-b3b7-49c68eba0c5f/assets/25fa525f-cf79-4907-8efe-c0ed02c3bdde.png" alt="Logo">
  <h2>Available Products for Loan</h2>

  <!-- Cart Icon -->
  <div id="cart">
    ðŸ›’ <span id="cart-count">0</span>
  </div>

  <!-- Sign-Out Button -->
  <button id="sign-out-btn" style="display:none;">Sign Out</button>
  
  <!-- Filters and Search -->
  <div id="filter-container">
    <label for="category-filter">Filter by Category:</label>
    <select id="category-filter" onchange="applyFilters()">
      <option value="all">All</option>
      <option value="gadget">Gadget</option>
      <option value="appliance">Appliance</option>
    </select>

    <label for="type-filter">Filter by Type:</label>
    <select id="type-filter" onchange="applyFilters()">
      <option value="all">All</option>
      <option value="smartphone">Smartphone</option>
      <option value="tablet">Tablet</option>
      <option value="pc-laptop">PC / Laptop</option>
      <option value="entertainment">Entertainment</option>
      <option value="home-cleaning">Home Cleaning</option>
      <option value="kitchen">Kitchen</option>
      <option value="home-comfort">Home Comfort</option>
    </select>
    
    <label for="search-box">Search:</label>
    <input type="text" id="search-box" placeholder="Search for a product..." oninput="applyFilters()">
  </div>  
  

  <!-- Product Grid -->
  <div id="product-list">
    <!-- Product 1 -->
    <div class="product" data-id="PHONE001" data-category="gadget" data-type="smartphone">
      <img src="https://i.imgur.com/N9D25OS.png" alt="iPhone14 256gb">
      <h2>Apple iPhone 14</h2>
      <p>Price: Php 45,490</p>
      <button onclick="toggleDetails('details-1', this)">Show Details</button>
      <div id="details-1" class="product-details" style="display:none;">
        <p><strong>Product:</strong> iPhone</p>
        <p><strong>Manufacturer:</strong> Apple</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Starlight, Yellow, Blue</li>
          <li>256gb</li>
          <li>A15 chip</li>
          <li>Shipping fee applies</li>
        </ul>
      </div>
      <button onclick="addToCart('PHONE001', 'iPhone14', 45490)">Add to Cart</button>
    </div>

    <!-- Product 2 -->
    <div class="product" data-id="PHONE002" data-category="gadget" data-type="smartphone">
      <img src="https://i.imgur.com/BEOB8nH.png" alt="iPhone15">
      <h2>Apple iPhone 15</h2>
      <p>Price: Php 44,990</p>
      <button onclick="toggleDetails('details-2', this)">Show Details</button>
      <div id="details-2" class="product-details" style="display:none;">
       <p><strong>Product:</strong> iPhone</p>
        <p><strong>Manufacturer:</strong> Apple</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Black</li>
          <li>128gb</li>
          <li>A15 chip</li>
          <li>Shipping fee applies</li>
        </ul>
      </div>
      <button onclick="addToCart('PHONE002', 'iPhone15', 44990)">Add to Cart</button>
    </div>

    <!-- Product 3 -->
    <div class="product" data-id="PHONE003" data-category="gadget" data-type="smartphone">
      <img src="https://i.imgur.com/2gCYlHi.png" alt="iPhone14 128gb">
      <h2>Apple iPhone 14</h2>
      <p>Price: Php 38,990</p>
      <button onclick="toggleDetails('details-3', this)">Show Details</button>
      <div id="details-3" class="product-details" style="display:none;">
        <p><strong>Product:</strong> iPhone</p>
        <p><strong>Manufacturer:</strong> Apple</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Midnight, Blue</li>
          <li>128gb</li>
          <li>A15 chip</li>
          <li>Shipping fee applies</li>
        </ul>
      </div>
      <button onclick="addToCart('PHONE003', 'iPhone14128', 38990)">Add to Cart</button>
    </div>
    
      <!-- Product 4 -->
    <div class="product" data-id="PHONE004" data-category="gadget" data-type="smartphone">
      <img src="https://i.imgur.com/q0eYRhV.png" alt="OPPO Reno11 Pro">
      <h2>OPPO Reno11 Pro</h2>
      <p>Price: Php 35,499</p>
      <button onclick="toggleDetails('details-4', this)">Show Details</button>
      <div id="details-4" class="product-details" style="display:none;">
        <p><strong>Product:</strong> Smartphone</p>
        <p><strong>Manufacturer:</strong> OPPO</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Pearl White</li>
          <li>512gb</li>
          <li>MTK 8200</li>
          <li>4600mAh</li>
          <li>Shipping fee applies</li>
        </ul>
      </div>
      <button onclick="addToCart('PHONE004', 'OPPO Reno11 Pro', 35499)">Add to Cart</button>
    </div>

      <!-- Product 5  -->
    <div class="product" data-id="PHONE005" data-category="gadget" data-type="smartphone">
      <img src="https://i.imgur.com/mtAZBJB.png" alt="iPhone12 64gb">
      <h2>Apple iPhone 12</h2>
      <p>Price: Php 33,590</p>
      <button onclick="toggleDetails('details-5', this)">Show Details</button>
      <div id="details-5" class="product-details" style="display:none;">
        <p><strong>Product:</strong> iPhone</p>
        <p><strong>Manufacturer:</strong> Apple</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Blue</li>
          <li>64gb</li>
          <li>A14 chip</li>
          <li>Shipping fee applies</li>
        </ul>
      </div>
      <button onclick="addToCart('PHONE005', 'iPhone12 64gb', 33590)">Add to Cart</button>
    </div>

      <!-- Product 6 -->
    <div class="product" data-id="CLEANING001" data-category="appliance" data-type="home-cleaning">
      <img src="https://via.placeholder.com/300" alt="Washing Machine">
      <h2>Washing Machine</h2>
      <p>Price: Php 48,000</p>
      <button onclick="toggleDetails('details-6', this)">Show Details</button>
      <div id="details-6" class="product-details" style="display:none;">
        <p><strong>Brand:</strong> Samsung</p>
        <p><strong>Model:</strong> Galaxy S23</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Phantom Black</li>
          <li>Storage: 256GB</li>
          <li>Battery: 3900mAh</li>
          <li>Camera: 50MP</li>
        </ul>
      </div>
      <button onclick="addToCart('CLEANING001', 'Washing Machine', 48000)">Add to Cart</button>
    </div>

      <!-- Product 3 -->
    <div class="product" data-id="KITCHEN001" data-category="appliance" data-type="kitchen">>
      <img src="https://via.placeholder.com/300" alt="Samsung Refrigerator">
      <h2>Samsung Refrigerator</h2>
      <p>Price: Php 38,000</p>
      <button onclick="toggleDetails('details-7', this)">Show Details</button>
      <div id="details-7" class="product-details" style="display:none;">
        <p><strong>Brand:</strong> Samsung</p>
        <p><strong>Model:</strong> Galaxy S23</p>
        <p><strong>Specifications:</strong></p>
        <ul>
          <li>Color: Phantom Black</li>
          <li>Storage: 256GB</li>
          <li>Battery: 3900mAh</li>
          <li>Camera: 50MP</li>
        </ul>
      </div>
      <button onclick="addToCart('KITCHEN001', 'Samsung Refrigerator', 38000)">Add to Cart</button>
    </div>
  </div>

  <!-- Firebase and Scripts -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD6WHRzPz5kpF39K0U-RwB6Q-8DySMJ0uM",
      authDomain: "pautangina-6f0ab.firebaseapp.com",
      projectId: "pautangina-6f0ab",
      storageBucket: "pautangina-6f0ab.firebasestorage.app",
      messagingSenderId: "981514614207",
      appId: "1:981514614207:web:ad7f106d68991920ff5d0a",
      measurementId: "G-99917HK00J"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    let cart = [];

    document.addEventListener("DOMContentLoaded", function() {
      // Load cart from localStorage if available
      const savedCart = JSON.parse(localStorage.getItem("cart")) || [];
      cart = savedCart;
      updateCartDisplay();

      window.addToCart = function(productId, productName, productPrice) {
        const product = { productId, productName, productPrice };
        cart.push(product);
        updateCartDisplay();
      };

      function updateCartDisplay() {
        const cartCount = document.getElementById('cart-count');
        cartCount.textContent = cart.length;
      }

      document.getElementById('cart').addEventListener('click', function() {
        localStorage.setItem("cart", JSON.stringify(cart));
        window.location.href = "cart.html";
      });

      window.toggleDetails = function(detailsId, button) {
        const detailsDiv = document.getElementById(detailsId);

        if (detailsDiv.style.display === 'none' || detailsDiv.style.display === '') {
          detailsDiv.style.display = 'block';
          button.textContent = 'Hide Details'; // Change button text to 'Hide Details'
        } else {
          detailsDiv.style.display = 'none';
          button.textContent = 'Show Details'; // Change button text back to 'Show Details'
        }
      };

      window.handleSignOut = function() {
        signOut(auth).then(() => {
          window.location.href = '/pautangina.github.io/index.html';
        }).catch(error => {
          console.error('Error during sign-out:', error);
        });
      };

      onAuthStateChanged(auth, (user) => {
        const signOutBtn = document.getElementById('sign-out-btn');
        if (user) {
          signOutBtn.style.display = 'block';
          signOutBtn.onclick = handleSignOut;
        } else {
          signOutBtn.style.display = 'none';
         }
      });
    });
  </script>

  <!-- Link to filter.js -->
  <script src="filter.js"></script>
</body>
</html>
